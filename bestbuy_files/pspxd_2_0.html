
<!-- saved from url=(0217)https://tie.app.247-inc.net/static/pspxd_2_0.html#parentdomain=https://www-ssl.bestbuy.com&clientkey=bestbuy-v1-001&version=20170207110137&pspv=default&n=1&caller=refloaded&l=1000&s=localstorage&vf=false&cln=&cs=sn.ct -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
</head><body><script type="text/javascript">
    function $undefinedOrNull(e){return SN.Utils.isUndefinedOrNull(e)}"undefined"==typeof SN&&(SN={}),SN.XDFrameMessagingUtils=function(){function e(e,t,r){try{if(!t)return;e="string"==typeof e?e:encodeURIComponent(JSON.stringify(e).split(" ").join("")),r=r||parent,i&&r[n](e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1"))}catch(a){o.error("errorWhileMakingPostMessage call to XD Iframe with message:"+e,a)}}function t(e){try{i&&(r[a]?r.addEventListener("message",e,!1):r.attachEvent("onmessage",e))}catch(t){o.error("errorWhilereceivingMessage from XD Iframe:"+t)}}var r=this,n="postMessage",a="addEventListener",o=SN.Utils,i=r[n],s={postMessage:e,receiveMessage:t};return s}(),JSON=function(){function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,n,a,o,i,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,r=0;o>r;r+=1)i[r]=str(r,l)||"null";return a=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+s+"]":"["+i.join(",")+"]",gap=s,a}if(rep&&"object"==typeof rep)for(o=rep.length,r=0;o>r;r+=1)n=rep[r],"string"==typeof n&&(a=str(n,l),a&&i.push(quote(n)+(gap?": ":":")+a));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(a=str(n,l),a&&i.push(quote(n)+(gap?": ":":")+a));return a=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+s+"}":"{"+i.join(",")+"}",gap=s,a}}function stringify(e,t,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;r>n;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}function parse(text,reviver){function walk(e,t){var r,n,a=e[t];if(a&&"object"==typeof a)for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n=walk(a,r),void 0!==n?a[r]=n:delete a[r]);return reviver.call(e,t,a)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep,me={parse:parse,stringify:stringify};return me}(),"undefined"==typeof SN&&(SN={}),SN.Utils=function(){function e(e){var t=new RegExp("[\\?&#]"+e+"=([^&#]*)"),r=t.exec(location.href);return s(r)?"":decodeURIComponent(r[1])}function t(){return-1!=d.indexOf(D)?!0:!1}function r(){!m||w>S||typeof console.warn!=g&&(Prototype.Browser.Gecko?console.warn.apply(console,arguments):console.warn(n(arguments)))}function n(e){for(var t=[].slice.call(e,0),r=0;r<t.length;r++){var n=t[r];$isArray(n)?t[r]=n.join(","):$isString(n)||(t[r]=JSON.stringify(n))}return t.join(" ")}function a(){!m||w>y||typeof console.error!=g&&(Prototype.Browser.Gecko?console.error.apply(console,arguments):console.error(n(arguments)))}function o(){!m||w>N||typeof console.info!=g&&(Prototype.Browser.Gecko?console.info.apply(console,arguments):console.info(n(arguments)))}function i(){!m||w>h||(typeof console.debug!=g?Prototype.Browser.Gecko?console.debug.apply(console,arguments):console.log(n(arguments)):t()&&console.log(O+n(arguments)))}function s(e){return null==e||""==e}function l(e){return typeof e===g||null==e||"null"===e}function c(){var e=document.location.href,t=e.split("#");if(!l(t[1])){for(var r=t[1].split("&"),n=0;n<r.length;n++){var a=r[n].split("=");M[a[0]]=a[1]}"true"==M[P]&&(b=!0)}}function u(){return M[I]}function f(){return b}function p(){return M[x]}var g="undefined",d=navigator.userAgent,m=typeof console!=g,v=1e3,y=400,S=300,h=200,N=100,w=v,O="INFO: ",D="MSIE",I="clientkey",P="vf",x="s",b=!1,M={},X={warn:r,error:a,debug:o,info:i,readParam:e,getClientKey:u,isVidBasedOnFpid:f,getDataStore:p,isUndefinedOrNull:l};return c(),X}(),SN.PrivateModeLocalStorage=function(){function e(){}function t(){return null}return{setItem:e,getItem:t,removeItem:e,key:t,clear:e,length:0}}(),SN.XDStorageHandler=function(){function e(e){$undefinedOrNull(e)&&v.error("data is undefined: check the object");for(var t in e)if(e.hasOwnProperty(t)){var r=e[t].cvalue;if(!$undefinedOrNull(r)){var n=(new Date).getTime(),a="",o=e[t].clifetime;o+=n,a=r+h+o;var i=y+S+t;d.setItem(i,a)}}}function t(){return m}function r(){var e,t="tpt";try{e=localStorage,e.setItem(t,t),e.getItem(t)==t?(e.removeItem(t),m=!0):m=!1}catch(r){m=!1}}function n(e){var t=null,r=location.hash;r=r.replace(I,"");for(var n=r.split("&"),a=0;a<n.length;a++){var o=n[a].split("=");if(o[0]==e){t=o[1];break}}return t}function a(e){var t={},r="",a="";a=$undefinedOrNull(e)?S:e;for(var o=n("s"),i=0;i<x.length;i++)if(r=y+a+x[i],r in d){var s=(new Date).getTime();t[x[i]]={};var l=d.getItem(r);if(("server"==o||v.isVidBasedOnFpid())&&"sn.vi"!=x[i]&&"sn.etc"!=x[i]&&d.removeItem(r),!$undefinedOrNull(l)){t[x[i]].cvalue=l.split(h)[0];var c=l.split(h)[1],u=c-s;t[x[i]].clifetime=u}}return t}function o(){var e={};e=a();var t=[];for(var r in e)if(e.hasOwnProperty(r)){var n=e[r].clifetime;if(0>n){t.push(r);var o=y+S+r;if(d.removeItem(o),"sn.vi"==r){for(var i in e)t.push(r),e.hasOwnProperty(i)&&(o=y+S+i,d.removeItem(o));break}}}return g(),t}function i(){O=setInterval(o,w)}function s(){var t=a("#");for(var r in t)if(t.hasOwnProperty(r)){t[r].cvalue=t[r].cvalue.replace(/#/g,"||");var n=y+"#"+r;d.removeItem(n)}e(t)}function l(){r(),d=t()?localStorage:SN.PrivateModeLocalStorage,D=JSON.parse(d.getItem(y+"_sn_ct_reg")),$undefinedOrNull(D)&&(D={}),s(),document.domain==N&&i(),(v.isVidBasedOnFpid()||"server"==v.getDataStore())&&c(),$undefinedOrNull(n("cs"))||(x=P.concat(n("cs").split("~")))}function c(){if(!$undefinedOrNull(n("cln"))){var e=n("cln").split("~");x=x.concat(e)}for(var t=0;t<x.length;t++){var r=y+S+x[t];if("sn.vi"!=x[t])d.removeItem(r);else if(v.isVidBasedOnFpid()){var a=d.getItem(r);!$undefinedOrNull(a)&&$undefinedOrNull(a.match(/f\|\|[lcs]/))&&d.removeItem(r)}}}function u(e){var t=e.key,r=e.value,n=e.lifeTime,a=(new Date).getTime()+n;d.setItem(y+"_sn_ct_"+t,r),D[t]=a,d.setItem(y+"_sn_ct_reg",JSON.stringify(D))}function f(e){var t=e.key;d.removeItem(y+"_sn_ct_"+t),delete D[t],d.setItem(y+"_sn_ct_reg",JSON.stringify(D))}function p(e){var t=e.key,r=d.getItem(y+"_sn_ct_"+t),n={};return n.key=t,n.value=r,n}function g(){for(var e in D)if(D.hasOwnProperty(e)){var t=D[e];(new Date).getTime()>=t&&(d.removeItem(y+"_sn_ct_"+e),delete D[e],d.setItem(y+"_sn_ct_reg",JSON.stringify(D)))}}var d,m,v=SN.Utils,y=v.getClientKey(),S="||",h="+",N=document.domain||"psp.247ilabs.com",w=1e4,O=null,D=null,I="#",P=["sn.vi","sn.wt","sn.rn","sn.vc","sn.ui","sn.as","sn.adp","sn.etc"],x=[],b={storeData:e,retrieveData:a,checkStoreLifetime:o,initialize:l,isLocalStorageAvailable:t,setLocalStorageData:u,removeLocalStorageData:f,getLocalStorageData:p};return l(),b}(),SN.PSPXD={},SN.PSPXD.Proxy=function(){function e(e){var t=null,r=location.hash;r=r.replace(g,"");for(var n=r.split("&"),a=0;a<n.length;a++){var o=n[a].split("=");if(o[0]==e){t=o[1];break}}return t}function t(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"];if(!window.ActiveXObject)return window.XMLHttpRequest?new XMLHttpRequest:null;for(var t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(r){SN.Utils.error("exception while trying to get new activeXobject  : ",r)}}function r(e,t){var r,n={};return e==f?void a(t):void(e==p?o(t):"setXdData"==e?w.storeData(t):"getXdData"==e?(n=w.retrieveData(),n.reqId=t.reqId,r="cmd=getXdData",r=r+"&params="+JSON.stringify(n),window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(r,I,parent)},5)):"setlocalstorageitem"==e?(w.setLocalStorageData(t),n.uniqueId=t.uniqueId,n.key=t.key,r="cmd=setlocalstorageitem",r=r+"&params="+JSON.stringify(n),window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(r,I,parent)},5)):"removelocalstorageitem"==e?(w.removeLocalStorageData(t),n.uniqueId=t.uniqueId,n.key=t.key,r="cmd=removelocalstorageitem",r=r+"&params="+JSON.stringify(n),window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(r,I,parent)},5)):"getlocalstorageitem"==e?(n=w.getLocalStorageData(t),n.uniqueId=t.uniqueId,r="cmd=getlocalstorageitem",r=r+"&params="+JSON.stringify(n),window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(r,I,parent)},5)):SN.Utils.info("SN.PSPXD.runProxy:Nothing to do"))}function n(){var e=SN.Utils,t=e.readParam("cmd"),n=e.readParam("params");r(t,n)}function a(e){var r=new t;r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status||-1==window.location.href.indexOf(S)){var e="cmd="+y;e=e+"&params="+r.responseText;try{window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(e,I,parent)},5)}catch(t){SN.Utils.error("errorWhileMakingPostMessage call to XD Iframe",t)}}else SN.Utils.error("SN.PSPXD : An error has occured making the request")};var n=e,a="",o=!0;for(var i in n)n.hasOwnProperty(i)&&(o?(o=!1,a=i+"="+n[i]):a=a+"&"+i+"="+n[i]);r.open(h,O,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(a)}function o(e){var r=new t;r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status||-1==window.location.href.indexOf(S)){var e="cmd="+p;e=e+"&params="+r.responseText;try{window.setTimeout(function(){SN.XDFrameMessagingUtils.postMessage(e,I,parent)},5)}catch(t){SN.Utils.error("errorWhileMakingPostMessage call to XD Iframe",t)}}else SN.Utils.error("SN.XD : An error has occured making the request")};var n=e,a="",o=!0;for(var i in n)n.hasOwnProperty(i)&&(o?(o=!1,a=i+"="+n[i]):a=a+"&"+i+"="+n[i]);r.open(h,D,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(a)}function i(){try{if($undefinedOrNull(e("n")))return;var t={};t.loaded=e("caller");var r=w.checkStoreLifetime();t.data=w.retrieveData(),r.length>0&&(t.expired=r),w.isLocalStorageAvailable()||(t.data.err="xdStorageUnavailable");var n="cmd=iframeLoaded&params="+JSON.stringify(t);SN.XDFrameMessagingUtils.postMessage(n,I,parent)}catch(a){SN.Utils.error("Error while notifying load event to parent:"+a)}}function s(){try{N=e("pspv"),O=location.protocol+d+e(c)+"/"+N+m,D=location.protocol+d+v}catch(t){SN.Utils.error("Error while initializing pspVersion and PSP_RUN_CALL:"+t)}}function l(){SN.XDFrameMessagingUtils.receiveMessage(function(e){var t=e.data,n="",a={};try{var o=JSON.parse(t);n=o.cmd,a=o.params}catch(i){SN.Utils.error("Badly formed JSON, the request is not meant for this listener: ",i)}r(n,a)},I)}var c="clientkey",u="parentdomain",f="serverCall",p="sendServerData",g="#",d="//"+document.domain+"/psp/",m="/run",v="v0/data/pxoe/set",y="serverResponse",S="http",h="POST",N=null,w=SN.XDStorageHandler,O=(SN.Utils,null),D=null,I=e(u),P={runProxy:n};return s(),l(),i(),P}(),SN.PSPXD.Proxy.runProxy();

</script>

</body></html>